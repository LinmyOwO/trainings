import asyncio
import aiohttp
import time


url = 'https://api.agify.io/?name={}'
names = ['vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark', 'vadim', 'denis', 'roman', 'alex', 'mark']
# facts = []


def get_tasks(session):
    tasks = []
    for name in names:
        tasks.append(asyncio.create_task(session.get(url.format(name))))
    return tasks


async def get_cat_facts():
    async with aiohttp.ClientSession() as session:
        tasks = get_tasks(session)
        responses = await asyncio.gather(*tasks)
        # for response in responses:
        #     facts.append(await response.json())


print("Program runs")
start = time.time()

asyncio.run(get_cat_facts())

end = time.time()
print('Completed {} API cals for {} seconds'.format(len(names), end - start))